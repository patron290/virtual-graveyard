<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #drawer class="sidenav" mode="over">
    <div class="sidebar-header">
      <div class="portrait-container">
        <img src="/kennedy_portrait.jpg" alt="AI Portrait" class="portrait-img">
      </div>
      <button mat-flat-button color="primary" class="talk-button animated-button" (click)="toggleTalk()"
        [class.talking]="isTalking()">
        Talk with me
        @if (isTalking()) {
        <mat-icon>graphic_eq</mat-icon>
        } @else {
        <mat-icon>mic</mat-icon>
        }
      </button>
      <div class="bio-section">
        <h3>John F. Kennedy</h3>
        <p class="bio-text">
          35th President of the United States. A transformative leader who inspired a nation with his vision of a "New
          Frontier," navigating the Cold War and advocating for civil rights before his tragic assassination in 1963.
        </p>
      </div>
      <div class="chat-section">
        <mat-form-field appearance="outline" class="chat-input-field">
          <textarea matInput [(ngModel)]="userMessage" placeholder="Ask Mr. President..." rows="3"></textarea>
        </mat-form-field>
        <button mat-flat-button class="send-button" (click)="sendMessage()" [disabled]="!userMessage().trim()">
          Send Message
          <mat-icon>send</mat-icon>
        </button>
      </div>
    </div>
    <mat-nav-list>
      <a mat-list-item href="#">Link 1</a>
      <a mat-list-item href="#">Link 2</a>
      <a mat-list-item href="#">Link 3</a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <button type="button" mat-icon-button (click)="drawer.toggle()" class="menu-button">
      <mat-icon>menu</mat-icon>
    </button>
    <div class="fullscreen-container">
      <img src="/kennedy.png" alt="Graveyard Background" class="fullscreen-bg">

      <!-- Add Person Button (Bottom Right) -->
      <button mat-flat-button class="add-person-button" (click)="openAddPersonDialog()">
        <mat-icon>add</mat-icon>
        Add Person
      </button>

      <div class="avatar-bubble floating-animation" (click)="drawer.toggle()">
        <img src="/kennedy_portrait.jpg" alt="JFK Avatar">
      </div>
    </div>
    <router-outlet />
  </mat-sidenav-content>
</mat-sidenav-container>